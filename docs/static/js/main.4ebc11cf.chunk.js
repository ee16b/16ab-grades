(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/ok-logo.86ffa05a.svg"},15:function(e,t,a){e.exports=a(28)},20:function(e,t,a){},25:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),l=a.n(o),c=(a(20),a(9)),i=a.n(c),s=a(13),u=a(1),m=a(2),d=a(4),h=a(3),p=a(5),f=(a(22),a(23),a(25),a(8)),v=a.n(f);a(26),a(27);function b(e){return!Number.isNaN(e)&&void 0!==e}var y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){e.stopPropagation()},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.props.booleanValued?r.a.createElement("div",{className:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",checked:!!this.props.value,className:"custom-control-input",onClick:this.handleClick,onChange:function(t){return!e.props.readOnly&&e.props.onChange(t.target.checked?1:0)},readOnly:this.props.readOnly,id:this.props.name}),r.a.createElement("label",{className:"custom-control-label",htmlFor:this.props.name})):r.a.createElement("input",{className:"ScoreEntry",type:"number",value:b(this.props.value)?this.props.value:"",placeholder:b(this.props.placeholder)?this.props.placeholder:"",min:"0",step:"0.1",onClick:this.handleClick,onChange:function(t){return e.props.onChange(t.target.value)},readOnly:this.props.readOnly})}}]),t}(n.Component);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.parseFloat(e).toFixed(Math.max(t,(e.toString().split(".")[1]||"").length))}function E(e){var t="Row";e.collapsed&&(t+=" closed"),void 0!==e.childrenCollapsed&&(t+=" pointable");var a=Number.isNaN(e.score)||e.future||e.booleanValued?r.a.createElement(y,{name:e.name,value:e.plannedScore,placeholder:e.placeholder,readOnly:e.readOnly,onChange:function(t){return e.onChange(e.name,t)},booleanValued:e.booleanValued}):g(e.score),n=!e.booleanValued&&e.maxScore?" / ".concat(g(e.maxScore)):"";return r.a.createElement("tr",{onClick:e.onClick,className:t},r.a.createElement("td",{style:{paddingLeft:10+40*e.indent}},void 0!==e.childrenCollapsed&&r.a.createElement("button",{type:"button",className:"close closeButton","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},e.childrenCollapsed?"+":"-")),r.a.createElement("div",{className:"collapse show"},e.name)),r.a.createElement("td",null,r.a.createElement("div",{className:"collapse show"},a,n)))}var S=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).toggleCollapse=function(){a.setState(function(e){return{collapsed:!e.collapsed}})},a.state={collapsed:!0},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=[],a=!0,n=!1,o=void 0;try{for(var l,c=this.props.schema.children[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var i=l.value;!this.props.future&&i.future||(!i.isTopic||i.future&&i.lockedChildren?e.push(r.a.createElement(E,{name:i.name,score:this.props.data[i.name],plannedScore:this.props.planned[i.name],placeholder:this.props.plannedTotals[i.name],booleanValued:i.booleanValued,readOnly:!Number.isNaN(this.props.data[i.name]),maxScore:i.isTopic?i.futureMaxScore:i.maxScore,future:i.future,key:i.name,indent:this.props.indent+1,collapsed:this.props.collapsed||this.state.collapsed,onChange:this.props.onFutureScoreChange})):e.push(r.a.createElement(t,{schema:i,data:this.props.data,planned:this.props.planned,plannedTotals:this.props.plannedTotals,readOnly:!1,key:i.name,indent:this.props.indent+1,collapsed:this.props.collapsed||this.state.collapsed,future:this.props.future,onFutureScoreChange:this.props.onFutureScoreChange})))}}catch(u){n=!0,o=u}finally{try{a||null==c.return||c.return()}finally{if(n)throw o}}var s=this.props.future?this.props.schema.futureMaxScore:this.props.schema.maxScore;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{name:this.props.schema.name,score:this.props.data[this.props.schema.name],plannedScore:this.props.planned[this.props.schema.name],placeholder:this.props.plannedTotals[this.props.schema.name],readOnly:this.props.readOnly,maxScore:s,onClick:this.toggleCollapse,indent:this.props.indent,childrenCollapsed:this.state.collapsed,collapsed:this.props.collapsed,onChange:this.props.onFutureScoreChange}),e)}}]),t}(n.Component);function N(e){var t=e.schema.map(function(t,a){return r.a.createElement(S,{schema:t,data:e.data,planned:e.planned,plannedTotals:e.plannedTotals,indent:0,key:a,future:e.future,onFutureScoreChange:e.onFutureScoreChange})}),a=e.future?"Expected / Maximum score eventually possible":"Current / Maximum score possible so far";return r.a.createElement("table",{className:"table table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col",style:{width:"50%"}},"Assignment"),r.a.createElement("th",{scope:"col",style:{width:"25%"}},a))),r.a.createElement("tbody",null,t))}var x=a(6);function C(e){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},e.grade),r.a.createElement("td",null,e.score))}function k(e){for(var t=[],a=0;a!==e.needed.length;++a)t.push(r.a.createElement(C,{key:a,grade:e.grades[a],score:e.needed[a]}));return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Grade"),r.a.createElement("th",{scope:"col"},"Minimum score needed on final"))),r.a.createElement("tbody",null,t))}var w,O=a(7);function M(e,t){t||(t=e,e=0);for(var a=[],n=e;n!==t;++n)a.push(n);return a}function T(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=!0,l=[],c=!0,i=!1,s=void 0;try{for(var u,m=t[Symbol.iterator]();!(c=(u=m.next()).done);c=!0){var d=u.value;d.future||(o=!1,l.push(d.maxScore))}}catch(N){i=!0,s=N}finally{try{c||null==m.return||m.return()}finally{if(i)throw s}}var h,p,f=[],v=!0,b=!1,y=void 0;try{for(var g,E=t[Symbol.iterator]();!(v=(g=E.next()).done);v=!0){var S=g.value;f.push(S.futureMaxScore)}}catch(N){b=!0,y=N}finally{try{v||null==E.return||E.return()}finally{if(b)throw y}}return n?(h=Math.min(a,n(l)),p=Math.min(a,n(f))):(h=Math.min(a,l.reduce(function(e,t){return e+t},0)),p=Math.min(a,f.reduce(function(e,t){return e+t},0))),{isTopic:!0,name:e,children:t,maxScore:h,futureMaxScore:p,customCalculator:n,future:o,lockedChildren:r}}function F(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{isTopic:!1,name:e,maxScore:t,futureMaxScore:t,weighting:a,future:!w.includes(e),booleanValued:n}}var j=[300,279,270,252,225,204,195,186,174,171,165,159,0],A=["A+","A","A-","B+","B","B-","C+","C","C-","D+","D","D-","F"];function P(e){var t=e.reduce(function(e,t){return e+t},0);return Number.isNaN(t)?NaN:9===t?45:8===t?42:7===t?22:0}function B(e){var t=Object(x.a)(e,3),a=t[0]+t[2];return Number.isNaN(a)?NaN:a>=8?10:a}function H(e){var t=e.data;if(!function(e){var t=e.Homework,a=e.Labs,n=e.Participation,r=e["Midterm 1"],o=e["Midterm 2"];return!Number.isNaN(t+a+n+r+o)}(t))return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},"Grade Planning"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Insufficient Data"),r.a.createElement("p",{className:"card-text"},"You need to specify your expected assignment scores (except for the final!) in the below table to enable grade planning."),r.a.createElement("p",null,"Or click the button to set them all to the maximum (including extra credit)!"),r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:e.onSetCourseworkToMax},"Set all unknown non-final scores to maximum"))),r.a.createElement("br",null));var a=function(e){var t=e.Homework+e.Labs+e.Participation+e["Midterm 1"]+e["Midterm 2"],a=[],n=[],r=!0,o=!1,l=void 0;try{for(var c,i=j.map(function(e,t){return[e,t]})[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var s=c.value,u=Object(x.a)(s,2),m=u[0],d=u[1],h=Math.max(0,m-t);if(h<=100&&(a.push(h),n.push(A[d])),0===h)break}}catch(p){o=!0,l=p}finally{try{r||null==i.return||i.return()}finally{if(o)throw l}}return[n,a]}(t),n=Object(x.a)(a,2),o=n[0],l=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"card"},r.a.createElement("h5",{className:"card-header"},"Grade Planning"),r.a.createElement("div",{className:"card-body"},r.a.createElement(k,{grades:o,needed:l}))),r.a.createElement("br",null))}function R(e){return r.a.createElement("div",{className:"custom-control custom-checkbox"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"futureCheckBox",checked:e.checked,onChange:e.onChange}),r.a.createElement("label",{className:"custom-control-label",htmlFor:"futureCheckBox"},"Show unreleased / ungraded assignments and enable grade planning."))}var V=a(14),D=a.n(V);function L(e){var t=e.onClick;return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"You are not logged in with an account that is registered for this class. Try logging in with a valid okpy account.",r.a.createElement("button",{className:"mt-3 btn btn-lg btn-warning btn-block",type:"button",onClick:t},"Log in with"," ",r.a.createElement("img",{src:D.a,alt:"Log in with OK",style:{height:"1.5em",width:"1.5em"}})))}var G=[],I={};function W(e,t){w=e,t,G=[T("Raw Score",[T("Exams",[F("Midterm 1",50),F("Midterm 2",50),F("Final",100)]),T("Homework",[T("Raw Homework Scores",Object(O.a)(M(15).map(function(e){return T("Final Homework ".concat(e," Score"),[F("Raw Self-Grade (HW ".concat(e,")"),10),F("Resubmitted? (HW ".concat(e,")"),1,1,!0),F("Resubmission Point Gain (HW ".concat(e,")"),10)],10,B,!0)}))),T("Reader Adjustment Factor",[F("Raw self-grades for selected problems",0),F("Adjusted self-grades for selected problems",0)])],35,function(e){return e.reduce(function(e,t){return e+t},0)/140*35}),T("Labs",Object(O.a)(["Imaging 1","Imaging 2","Imaging 3","Touch 1","Touch 2","Touch 3A","Touch 3B","APS 1","APS 2"].map(function(e){return(t=F("".concat(e),1)).future=!1,t;var t})),45,P),T("Participation",Object(O.a)(M(16).flatMap(function(e){return[].concat(Object(O.a)(0===e?[]:["A"]),["B"]).map(function(t){return F("Discussion ".concat(e).concat(t),1.25,1.25,!0)})})),20)])],I={};var a=!0,n=!1,r=void 0;try{for(var o,l=G[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){z(o.value)}}catch(c){n=!0,r=c}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}}function z(e){if(I[e.name]=e,e.isTopic){var t=!0,a=!1,n=void 0;try{for(var r,o=e.children[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){z(r.value)}}catch(l){a=!0,n=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw n}}}}function J(e){for(var t=JSON.parse(JSON.stringify(e)),a=0,n=Object.keys(I);a<n.length;a++){var r=n[a];void 0===t[r]&&(t[r]=NaN)}return t}var U=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleFutureCheckboxChange=function(){a.setState(function(e){return{future:!e.future,plannedScores:J(e.scores)}})},a.handleFutureScoreChange=function(e,t){a.state.plannedScores[e]=""===t?NaN:t,a.forceUpdate()},a.recursivelyMaximize=function(e,t){if(e.isTopic){var n=!0,r=!1,o=void 0;try{for(var l,c=e.children[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var i=l.value;a.recursivelyMaximize(i,t)}}catch(s){r=!0,o=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}}else"Final"!==e.name&&Number.isNaN(t[e.name])&&(t[e.name]=e.maxScore)},a.refresh=function(){window.location.replace("./login")},a.handleSetCourseworkToMax=function(){var e=!0,t=!1,n=void 0;try{for(var r,o=G[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var l=r.value;a.recursivelyMaximize(l,a.state.plannedScores)}}catch(c){t=!0,n=c}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}a.forceUpdate()},a.handleSetParticipationToMax=function(){a.recursivelyMaximize(I["Participation Credits"],a.state.plannedScores),a.forceUpdate()},a.state={scores:[],plannedScores:[],future:!1,success:!1},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t,a,n,r,o,l,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("./query/");case 2:if(t=e.sent,a=t.success,n=t.retry,r=t.header,o=t.data,l={},a)for(this.setState({success:!0}),W(r,o),c=0;c!==r.length;++c)I[r[c]]&&(l[r[c]]=o[c]);else n&&this.refresh();this.setState({scores:l,plannedScores:J(l)});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"computeTotals",value:function(e,t,a){if(e.future&&!this.state.future)return 0;if(!e.isTopic)return a[e.name]=void 0!==t[e.name]?Number.parseFloat(t[e.name]):NaN,a[e.name]*e.weighting;var n=[],r=0,o=!0,l=!1,c=void 0;try{for(var i,s=e.children[Symbol.iterator]();!(o=(i=s.next()).done);o=!0){var u=i.value,m=this.computeTotals(u,t,a);r+=m,n.push(m)}}catch(h){l=!0,c=h}finally{try{o||null==s.return||s.return()}finally{if(l)throw c}}e.customCalculator&&(r=e.customCalculator(n));var d=this.state.future?e.futureMaxScore:e.maxScore;return d&&(r=Math.min(r,d)),a[e.name]=r,void 0===t[e.name]||Number.isNaN(Number.parseFloat(t[e.name]))?r:(a[e.name]=Number.parseFloat(t[e.name]),a[e.name])}},{key:"render",value:function(){var e={},t={},a=!0,n=!1,o=void 0;try{for(var l,c=G[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var i=l.value;this.computeTotals(i,this.state.scores,e),this.computeTotals(i,this.state.plannedScores,t)}}catch(u){n=!0,o=u}finally{try{a||null==c.return||c.return()}finally{if(n)throw o}}var s=this.state.success?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{onChange:this.handleFutureCheckboxChange,checked:this.state.future}),r.a.createElement("br",null),this.state.future&&r.a.createElement(H,{data:t,onSetCourseworkToMax:this.handleSetCourseworkToMax,onSetParticipationToMax:this.handleSetParticipationToMax}),r.a.createElement(N,{schema:G,data:e,planned:this.state.plannedScores,plannedTotals:t,future:this.state.future,onFutureScoreChange:this.handleFutureScoreChange})):r.a.createElement(L,{onClick:this.refresh});return r.a.createElement("div",{className:"App container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("br",null),r.a.createElement("h1",{className:"display-4"},r.a.createElement("strong",null,"16A")," ","Status Check"),s)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.4ebc11cf.chunk.js.map